<!doctype html>
<html ng-app="MediaApp">
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="media.js"></script>
  </head>
  <body>
    <div ng-controller="MediaListController as mediaListCtrl">
        <h1>Media</h1>

        <section style="display: table; width: 90%">
          <header style="display: table-row;">
            <div style="display: table-cell;">Name</div>
            <div style="display: table-cell;">Length</div>
            <div style="display: table-cell;">Created</div>
            <div style="display: table-cell;">Summary</div>
          </header>
          	Load As...
			<select name="mimeSelect" id="mimeSelect" ng-model="mediaListCtrl.conversion.mime">
				<option ng-repeat="opt in mediaListCtrl.conversion.options" value="{{opt.mime}}">{{opt.descr}}</option>
				<!-- 
				<option value="text/plain">Txt</option>
				<option value="application/pdf">Pdf</option>
				<option value="application/pdf;PdfA=true">Pdf/A</option>
				<option value="application/json;meta=true">Meta</option>
				 -->
		    </select>
          <div style="display: table-row;" ng-repeat="medium in mediaListCtrl.media">
            <div style="display: table-cell;">
            <a href="{{mediaListCtrl.getHref(medium)}}" type={{medium.mimeType}} download={{medium.name}}>{{medium.name}}</a>
            <button ng-click="mediaListCtrl.downloadFile(medium, '{{mediaListCtrl.conversion.mime}}')">Load as '{{mediaListCtrl.getDescription()}}'</button>
            </div>
            <div style="display: table-cell;"><label>{{medium.contentLength}}</label></div>
            <div style="display: table-cell;"><label>{{medium.created}}</label></div>
            <div style="display: table-cell;"><label>{{medium.summary}}</label></div>
          </div>
        </section>

        <h2>New File</h2>
        <input type="file" id="mediumElement" name="mediumElement"/>
        <input type="summary" id="summary" name="summary" ng-model="mediaListCtrl.summary" placeholder="Summary"/>
        <button ng-click="mediaListCtrl.upload()">Upload</button>
    </div>
  </body>
</html>